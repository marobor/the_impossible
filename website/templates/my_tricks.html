{% extends "base.html" %}
{% block title %}My tricks{% endblock %}
{% block content %}
    <div class="container-fluid">
        <div class="row">

            <div class="accordion side-nav-mobile" id="accordionExample">
                <div class="accordion-item">
                    <h2 class="accordion-header" id="headingOne">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
                                data-bs-target="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
                            POZOSTAŁE TRICKI
                        </button>
                    </h2>
                    <div id="collapseOne" class="accordion-collapse collapse" aria-labelledby="headingOne"
                         data-bs-parent="#accordionExample">
                        <div class="accordion-body">
                            <ul class="nav flex-column">
                                <li class="nav-item">
                                    <a class="nav-link" href="{{ url_for('views.my_trick', trick_slug=trick.slug) }}">
                                        Dodaj tricki
                                    </a>
                                    <a href="#" class="nav-link">
                                        Zmień hasło
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-2">
                <ul class="nav flex-column side-nav" role="navigation">
                    {% for link in tricks %}
                        {% if trick.name == link.name %}
                            <li class="nav-item side-nav-item active">
                                <a href="{{ url_for('views.my_trick', trick_slug=link.slug) }}">
                                    {{ link.name|upper }}
                                </a>
                            </li>
                        {% else %}
                            <li class="nav-item side-nav-item">
                                <a href="{{ url_for('views.my_trick', trick_slug=link.slug) }}">
                                    {{ link.name|upper }}
                                </a>
                            </li>
                        {% endif %}
                    {% endfor %}
                </ul>
            </div>


            <div class="col-6">
                <div class="title">
                <h1>{{ trick.name|upper }}</h1>
                    <a href="{{ url_for('views.show_post', category='tricki', slug=trick.slug) }}">Zobacz opis tricku >></a>
                </div>
                <div class="variant-list">
                    {% for variant in all_variants %}
                        {% if variant.id in user_variants %}
                            <div class="vl-btns">
                                <p class="archived">
                                    {{ variant.name|upper }}
                                </p>
                                <a class="nav-link"
                                   href="{{ url_for('views.trick_archive', trick_slug=trick.slug, variant_slug=variant.slug) }}">
                                    Zobacz Trick
                                </a>
                                <a class="nav-link"
                                   href="{{ url_for('views.user_edit_trick', trick_slug=trick.slug, variant_slug=variant.slug) }}">
                                    Edytuj Trick
                                </a>
                                <form method="POST"
                                      action="{{ url_for('views.delete_trick', trick_slug=trick.slug, variant_slug=variant.slug) }}">
                                    <input type="submit" class="nav-link" value="Usuń"
                                           onclick="return confirm('Are you sure you want to delete this entry?')">
                                </form>
                            </div>

                        {% else %}
                            <div class="vl-btns">
                                <p>
                                    {{ variant.name|upper }}
                                </p>
                                <a class="nav-link"
                                   href="{{ url_for('views.add_trick', trick_slug=trick.slug, variant_slug=variant.slug) }}">
                                    Dodaj Trick
                                </a>
                            </div>
                        {% endif %}
                    {% endfor %}
                </div>
            </div>

            <div class="col-lg-4 order-1 order-lg-2 order-xl-2 order-xxl-2 profile-sidebar">
                <div class="sidebar-item">
                    <h3>JAK TO DZIAŁA?</h3>
                    <p>Dodawaj tricki, które udało ci się wykonać i śledź swój postęp.</p>
                    <a href="#">Dowiedz się więcej >></a>
                </div>
                <div class="sidebar-item">
                    <h3>SŁOWNICZEK</h3>
                    <p>Goofie?! Przecież to miała byc strona o deskorolce.
                        Zajrzyj do słowniczka, jeśli czegoś nie rozumiesz — możliwe,
                        że znajdziesz tam przydatne informacje.</p>
                    <a href="#">Przejdź do słowniczka >></a>
                </div>
                <div class="sidebar-item">
                    <h3>CHCESZ WIEDZIEĆ WIĘCEJ?</h3>
                    <p>Rzuć okiem na ciekawe, moim zdaniem, treści i zaspokój głód wiedzy.</p>
                    <a href="#">Więcej treści >></a>
                </div>
            </div>
        </div>
    </div>
{% endblock %}